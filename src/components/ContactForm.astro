---
---

<form class="contact-form" action="https://api.web3forms.com/submit" method="POST" id="contactForm">
  <input type="hidden" name="access_key" value="b0fb6740-344d-44fa-bb7c-563e663151d0" />
  <input type="hidden" name="subject" value="New Contact Form Submission from Portfolio" />
  <input type="hidden" name="from_name" value="Sheikh Shariar Nehal Portfolio" />
  <input type="hidden" name="redirect" value="https://web3forms.com/success" />
  
  <!-- Success/Error Toast Messages -->
  <div id="formToast" class="form-toast" role="alert" aria-live="polite"></div>
  
  <div class="form-group">
    <div class="field">
      <input type="text" name="name" placeholder="Name" required aria-label="Your name" />
      <i class="fas fa-user" aria-hidden="true"></i>
    </div>
    <div class="field">
      <input type="email" name="email" placeholder="Email" required aria-label="Your email address" />
      <i class="fas fa-envelope" aria-hidden="true"></i>
    </div>
    <div class="field">
      <input type="tel" name="phone" placeholder="Phone" aria-label="Your phone number (optional)" />
      <i class="fas fa-phone-alt" aria-hidden="true"></i>
    </div>
    <div class="message">
      <textarea placeholder="Message" name="message" required aria-label="Your message"></textarea>
      <i class="fas fa-comment-dots" aria-hidden="true"></i>
    </div>
  </div>
  
  <div class="button-area">
    <button type="submit" id="submitBtn">
      <span class="btn-text">Submit</span>
      <span class="btn-loading" style="display: none;">
        <i class="fas fa-spinner fa-spin"></i> Sending...
      </span>
      <i class="fa fa-paper-plane btn-icon" aria-hidden="true"></i>
    </button>
  </div>
</form>

<style>
  .form-toast {
    display: none;
    padding: 1rem 1.5rem;
    border-radius: 8px;
    margin-bottom: 1.5rem;
    font-weight: 500;
    text-align: center;
    animation: slideIn 0.3s ease-out;
  }
  
  .form-toast.show {
    display: block;
  }
  
  .form-toast.success {
    background: linear-gradient(135deg, #10b981, #059669);
    color: white;
    box-shadow: 0 4px 15px rgba(16, 185, 129, 0.3);
  }
  
  .form-toast.error {
    background: linear-gradient(135deg, #ef4444, #dc2626);
    color: white;
    box-shadow: 0 4px 15px rgba(239, 68, 68, 0.3);
  }
  
  .form-toast i {
    margin-right: 0.5rem;
  }
  
  @keyframes slideIn {
    from {
      opacity: 0;
      transform: translateY(-10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  
  .btn-loading {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
  }
  
  button:disabled {
    opacity: 0.7;
    cursor: not-allowed;
  }
</style>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    const form = document.getElementById('contactForm') as HTMLFormElement | null;
    const toast = document.getElementById('formToast') as HTMLDivElement | null;
    const submitBtn = document.getElementById('submitBtn') as HTMLButtonElement | null;
    const btnText = submitBtn?.querySelector('.btn-text') as HTMLElement | null;
    const btnLoading = submitBtn?.querySelector('.btn-loading') as HTMLElement | null;
    const btnIcon = submitBtn?.querySelector('.btn-icon') as HTMLElement | null;
    
    if (!form || !toast || !submitBtn) return;
    
    function showToast(message: string, type: 'success' | 'error') {
      if (!toast) return;
      toast.className = `form-toast show ${type}`;
      const icon = type === 'success' ? 'fa-check-circle' : 'fa-exclamation-circle';
      toast.innerHTML = `<i class="fas ${icon}"></i> ${message}`;
      
      // Auto-hide after 5 seconds
      setTimeout(() => {
        if (toast) toast.classList.remove('show');
      }, 5000);
    }
    
    function setLoading(loading: boolean) {
      if (!submitBtn) return;
      if (loading) {
        submitBtn.setAttribute('disabled', 'true');
        if (btnText) btnText.style.display = 'none';
        if (btnLoading) btnLoading.style.display = 'inline-flex';
        if (btnIcon) btnIcon.style.display = 'none';
      } else {
        submitBtn.removeAttribute('disabled');
        if (btnText) btnText.style.display = 'inline';
        if (btnLoading) btnLoading.style.display = 'none';
        if (btnIcon) btnIcon.style.display = 'inline';
      }
    }
    
    form.addEventListener('submit', async function(e) {
      e.preventDefault();
      
      setLoading(true);
      
      const formData = new FormData(form);
      
      try {
        const response = await fetch('https://api.web3forms.com/submit', {
          method: 'POST',
          body: formData
        });
        
        const result = await response.json();
        
        if (response.ok && result.success) {
          showToast('Thank you! Your message has been sent successfully. I\'ll get back to you soon!', 'success');
          form.reset();
        } else {
          throw new Error(result.message || 'Something went wrong');
        }
      } catch (error) {
        console.error('Form submission error:', error);
        showToast('Oops! Something went wrong. Please try again or email me directly.', 'error');
      } finally {
        setLoading(false);
      }
    });
  });
</script>
